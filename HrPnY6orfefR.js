import{App}from"./app.js";import{gs}from"./gs.js";import{apps}from"./apps.js";import{access}from"./home.js";import{options}from"./options.js";import{support}from"./support.js";import{community}from"./community.js";switch(window.app=new App,localStorage.getItem("incog||background")){case"stars":particlesJS.load(".particles","./json/stars.json");break;case"particles":particlesJS.load(".particles","./json/particles.json")}function createLink(e=null,t="",o={}){const a=app.createElement("a",t,o);return e&&(a.href=e),a}function timeout(e=1e3){return new Promise((t=>setTimeout(t,e)))}app.openNav=function(){document.querySelector("#close-nav").style.display="flex",document.querySelector("nav").style.display="flex"},app.closeNav=function(){document.querySelector("#close-nav").style.removeProperty("display"),document.querySelector("nav").style.removeProperty("display")},app.destroyParticles=function(){return window.pJSDom&&window.pJSDom.length&&window.pJSDom[0].pJS.fn.vendors.destroypJS(),window.pJSDom=[],!0},document.querySelector("#open-nav").addEventListener("click",app.openNav),document.querySelector("#close-nav").addEventListener("click",app.closeNav),document.title=localStorage.getItem("incog||title")||"Incognito",window.icon=document.querySelector("#favicon"),icon.href=localStorage.getItem("incog||icon")||"./index.svg",app.on("init",(()=>{app.icon=document.querySelector("#favicon"),app.search.back=app.createElement("a","chevron_left",{class:"submit",style:{"font-family":"Material Icons","font-size":"30px",color:"var(--accent)",display:"none"}}),app.search.title=app.createElement("div",[],{class:"title",style:{"font-size":"16px","font-weight":"500",color:"var(--accent)",display:"none"}}),app.search.logo=createLink("#",'<img class="hu" src="img/hu.png"  width="50px" height="50px"><svg class="nav-logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 365.37 365.37"><defs>    <style>       .cls-1{    fill:none;    stroke-width:18px;}  .cls-1, .cls-2 {    stroke: var(--accent);    stroke-miterlimit:10;} .cls-2 {    fill: var(--accent);    stroke-width:5px;}    </style>  </defs><circle class="cls-1" cx="182.68" cy="182.68" r="173.68"></circle><path class="cls-2" d="M210.41,66.38A115.27,115.27,0,0,1,70.52,248.19,134,134,0,1,0,210.41,66.38Z" transform="translate(-17.32 -17.32)"></path></svg>',{style:{display:"none"}}),app.search.input=app.createElement("input",[],{attrs:{placeholder:""},class:"interactive"}),app.search.submit=app.createElement("button",'<i class="fas fa-search"></i>',{class:"submit",style:{display:"none"}})})),app.on("exit",(async()=>{document.querySelector("#open-nav").removeAttribute("data-open"),document.querySelector("header").hasAttribute("data-init")&&document.querySelector("header").removeAttribute("data-init"),"none"===app.search.logo.style.display&&app.search.logo.style.removeProperty("display"),document.querySelector("header").hasAttribute("data-page")&&document.querySelector("header").removeAttribute("data-page"),app.search.logo.style.display="none",app.search.submit.style.display="none",app.search.input.removeAttribute("oninput"),app.search.title.textContent="",app.search.title.style.display="none",app.nav.clear(),app.main.clear(),app.main.target.classList.toggle("transition")})),app.on("after",(()=>{app.main.target.classList.toggle("transition")})),document.querySelector("#access-form").addEventListener("submit",(e=>{e.preventDefault(),app.main.target.style.display="none",app.header.target.style.display="none";const t=document.querySelector(".access-frame");t.src="/load.html#"+btoa(e.target[0].value),t.style.display="block",document.querySelector(".access-panel").style.removeProperty("display")})),document.querySelector(".close-access").addEventListener("click",(e=>{e.preventDefault(),app.main.target.style.display="block",app.header.target.style.display="flex";const t=document.querySelector(".access-frame");t.src="about:blank",t.style.display="none",document.querySelector(".access-panel").style.display="none"})),document.querySelector(".refresh-access").addEventListener("click",(()=>{const e=document.querySelector(".access-frame").contentWindow;try{e.location.reload()}catch(e){}})),document.querySelector(".access-link").addEventListener("click",(()=>{const e=document.querySelector(".access-frame").contentWindow;e.__uv&&navigator.clipboard.writeText(new URL("./?link="+encodeURIComponent(btoa(e.__uv.location.href)),location.href).href)})),document.querySelector(".access-panel .controls .icon").addEventListener("error",(e=>{e.target.src="img/globe.svg"})),document.querySelector(".access-panel").addEventListener("mouseenter",(async e=>{const t=document.querySelector(".access-frame").contentWindow;if("#gs"!==window.location.hash&&t&&t.__uv){document.querySelector(".access-panel .controls input").value=Object.getOwnPropertyDescriptor(Document.prototype,"title").get.call(t.document);const e=document.querySelector.call(t.document,".access-panel img");if(e&&Object.getOwnPropertyDescriptor(HTMLLinkElement.prototype,"href").get.call(e)){const o=await t.__uv.client.fetch.fetch.call(t,Object.getOwnPropertyDescriptor(HTMLLinkElement.prototype,"href").get.call(e)),a=await o.blob(),c=URL.createObjectURL(a);document.querySelector(".access-panel .controls .icon").src=c,URL.revokeObjectURL(c)}else{const e=await t.__uv.client.fetch.fetch.call(t,t.__uv.rewriteUrl("/favicon.ico")),o=await e.blob(),a=URL.createObjectURL(o);document.querySelector(".access-panel .controls .icon").src=a,URL.revokeObjectURL(a)}}})),app.on("default",access),app.on("#gs",gs),app.on("#apps",apps),app.on("#settings",options),app.on("#support",support),app.on("#community",community),app.init(),window.nav=function(e,t="",o){app.main.target.style.display="none",app.header.target.style.display="none";const a=document.querySelector(".access-frame");document.querySelector(".access-panel .controls input").value=t,o&&(document.querySelector(".access-panel img").src=o),a.src=e,a.style.display="block",document.querySelector(".access-panel").style.removeProperty("display")};